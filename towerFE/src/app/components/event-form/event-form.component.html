<div class="modal modal-lg fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Create New Event</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div class="container-fluid">

                    <form class="row" #form="ngForm" id="event-form">

                        <div class="col-10">
                            <div class="row">
                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Event Name: </label>
                                    <input #nameInput="ngModel" [(ngModel)]="eventFormData.name" type="text" name="name"
                                        id="name" aria-describedby="helpId" required />

                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(nameInput) || nameInput.untouched; else nameInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #nameInputTemplate>
                                        <div id="nameErrorMessage" class="validatorWarning mt-1">{{this.formValidationService.getErrorMessage(nameInput)}}</div>
                                    </ng-template>

                                </div>

                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Location üçï: </label>
                                    <input #locationInput="ngModel" [(ngModel)]="eventFormData.location" type="text"
                                        name="location" id="location" aria-describedby="helpId" required />
                                    <!-- NOTE example of angular conditional attribute -->
                                    <!-- <div [hidden]="this.formValidationService.validateField(locationInput) || locationInput.untouched"
                                         class="validatorWarning mt-1"><span class="ms-1">Enter a location</span>
                                    </div> -->

                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(locationInput) || locationInput.untouched; else locationInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #locationInputTemplate>
                                        <div id="locationErrorMessage" class="validatorWarning mt-1">
                                            {{this.formValidationService.getErrorMessage(locationInput)}}</div>
                                    </ng-template>

                                </div>

                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Type: </label>
                                    <select #typeInput="ngModel" name="type" [(ngModel)]="eventFormData.type"
                                        class="form-select" aria-label="type select" required>
                                        <option *ngFor="let type of appState.eventTypes" value="{{type}}">{{type}}
                                        </option>
                                    </select>


                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(typeInput) || typeInput.untouched; else typeInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #typeInputTemplate>
                                        <div id="typeErrorMessage" class="validatorWarning mt-1">{{this.formValidationService.getErrorMessage(typeInput)}}</div>
                                    </ng-template>

                                </div>

                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Capacity üçî: </label>
                                    <input #capacityInput="ngModel" min="0" [(ngModel)]="eventFormData.capacity"
                                        type="number" name="capacity" id="capacity" aria-describedby="helpId"
                                        required />


                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(capacityInput) || capacityInput.untouched; else capacityInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #capacityInputTemplate>
                                        <div id="capacityErrorMessage" class="validatorWarning mt-1">{{this.formValidationService.getErrorMessage(capacityInput)}}
                                        </div>
                                    </ng-template>

                                </div>

                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Start Date: </label>
                                    <input #startDateInput="ngModel" [(ngModel)]="eventFormData.startDate" type="date"
                                        name="startDate" id="startDate" aria-describedby="helpId" required />

                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(startDateInput) || startDateInput.untouched; else startDateInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #startDateInputTemplate>
                                        <div id="startDateErrorMessage" class="validatorWarning mt-1">{{this.formValidationService.getErrorMessage(startDateInput)}}
                                        </div>
                                    </ng-template>

                                </div>

                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Cover Image: </label>
                                    <input #coverImgInput="ngModel" [(ngModel)]="eventFormData.coverImg" type="text"
                                        name="coverImg" id="coverImg" aria-describedby="helpId" required />

                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(coverImgInput) || coverImgInput.untouched; else coverImgInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #coverImgInputTemplate>
                                        <div id="coverImgErrorMessage" class="validatorWarning mt-1">{{this.formValidationService.getErrorMessage(coverImgInput)}}
                                        </div>
                                    </ng-template>

                                </div>

                                <div class="col-md-6 m-0">
                                    <label class="text-light m-2">Description: </label>
                                    <textarea #descriptionInput="ngModel" [(ngModel)]="eventFormData.description"
                                        name="description" id="description" required></textarea>


                                    <ng-container
                                        *ngIf="this.formValidationService.validateField(descriptionInput) || descriptionInput.untouched; else descriptionInputTemplate">
                                        <div class="validatorSpacer mt-1"></div>
                                    </ng-container>

                                    <ng-template #descriptionInputTemplate>
                                        <div id="descriptionErrorMessage" class="validatorWarning mt-1">{{this.formValidationService.getErrorMessage(descriptionInput)}}</div>
                                    </ng-template>

                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-6 m-0">

                                </div>
                            </div>
                        </div>

                    </form>

                </div>

            </div>
            <div class="modal-footer">
                <button (click)="createEvent(form)" class="btn create-button m-2" type="button ">Create!</button>
                <button class="btn cancel-button m-2" type="button " data-bs-dismiss="modal">Cancel!</button>
            </div>

        </div>
    </div>
</div>